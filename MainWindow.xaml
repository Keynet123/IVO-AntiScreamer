<Window
    x:Class="IVOAntiScreamer.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:skia="clr-namespace:SkiaSharp.Views.WPF;assembly=SkiaSharp.Views.WPF"
    Title="IVO AntiScreamer"
    MinWidth="800"
    MinHeight="500"
    Background="#2C2A4A"
    Loaded="Window_Loaded"
    ResizeMode="CanResizeWithGrip"
    SizeChanged="Window_SizeChanged"
    SizeToContent="Manual"
    WindowStartupLocation="CenterScreen">

    <Window.Resources>
        <FontFamily x:Key="RobotoRegular">pack://application:,,,/Fonts/#Roboto Black</FontFamily>
        <FontFamily x:Key="RobotoBold">pack://application:,,,/Fonts/#Roboto Bold</FontFamily>
        <FontFamily x:Key="RobotoCondensedMedium">pack://application:,,,/Fonts/Roboto_Condensed-Medium.ttf#Roboto Condensed Medium</FontFamily>
        <FontFamily x:Key="RobotoCondensedSemiBold">pack://application:,,,/Fonts/#Roboto Condensed SemiBold</FontFamily>
        <FontFamily x:Key="RobotoBlack">pack://application:,,,/Fonts/#Roboto Black</FontFamily>
        <FontFamily x:Key="AnonymousProRegular">pack://application:,,,/Fonts/#Anonymous Pro Regular</FontFamily>
        <FontFamily x:Key="AnonymousProBold">pack://application:,,,/Fonts/#Anonymous Pro Bold</FontFamily>
        <FontFamily x:Key="JetBrainsMonoLight">pack://application:,,,/Fonts/JetBrainsMono-Light.ttf#JetBrains Mono Light</FontFamily>
    </Window.Resources>

    <Viewbox Stretch="Fill">
        <Grid Width="800" Height="500">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="70" />
                <!--  Левая панель (1 часть)  -->
                <ColumnDefinition Width="5*" />
                <!--  Правая панель (5 частей)  -->
            </Grid.ColumnDefinitions>

            <!--  Левая панель с кнопками  -->
            <Border
                Margin="0"
                Background="#4F518C"
                CornerRadius="0,8,8,0">
                <Grid
                    x:Name="ButtonsPanel"
                    Grid.Column="0"
                    Margin="5">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                        <!--  Растягивающееся пространство  -->
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <Path
                        Margin="0,12,0,0"
                        HorizontalAlignment="Center"
                        Data="M2,2 L28,2 M2,9 L28,9 M2,16 L28,16"
                        Opacity="0.5"
                        Stroke="#2C2A4A"
                        StrokeEndLineCap="Round"
                        StrokeLineJoin="Round"
                        StrokeStartLineCap="Round"
                        StrokeThickness="4" />

                    <!--  МЕНЮ  -->
                    <Button
                        x:Name="MenuButton"
                        Grid.Row="0"
                        Margin="0,50,0,0"
                        Background="Transparent"
                        BorderBrush="Transparent"
                        BorderThickness="0"
                        Click="MenuButton_Click"
                        Cursor="Hand"
                        IsEnabled="False">

                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Grid Width="50" Height="50">
                                    <Path x:Name="BackgroundPath">
                                        <Path.Fill>
                                            <SolidColorBrush Color="#7FDEFF" />
                                        </Path.Fill>
                                        <Path.Data>
                                            <RectangleGeometry
                                                RadiusX="8"
                                                RadiusY="8"
                                                Rect="0,0,50,50" />
                                        </Path.Data>
                                    </Path>
                                    <Ellipse
                                        x:Name="Ripple"
                                        Width="0"
                                        Height="0"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        Fill="White"
                                        Opacity="0" />
                                    <Path
                                        Data="M14,34 L35,34   M34,34 L34,22   M34.4265,22.8192 L24.4265,15.8192   M15,34 L15,22   M14.4625,23 L25.8192,15.5735"
                                        Stroke="White"
                                        StrokeThickness="2" />
                                </Grid>

                                <ControlTemplate.Triggers>
                                    <!--  Цвет для активной кнопки  -->
                                    <Trigger Property="IsEnabled" Value="True">
                                        <Setter TargetName="BackgroundPath" Property="Fill" Value="#7066B1" />
                                    </Trigger>
                                    <Trigger Property="IsEnabled" Value="False">
                                        <Setter TargetName="BackgroundPath" Property="Fill" Value="#7FDEFF" />
                                    </Trigger>



                                    <!--  Цвет при нажатии (только для активных кнопок)  -->
                                    <Trigger Property="IsPressed" Value="True">
                                        <Setter TargetName="BackgroundPath" Property="Fill" Value="#4A407F" />
                                    </Trigger>


                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>

                    <!--  ЗАЩИТА  -->
                    <Button
                        x:Name="SafeButton"
                        Grid.Row="1"
                        Width="50"
                        Height="50"
                        Margin="0,10,0,0"
                        Background="Transparent"
                        BorderBrush="Transparent"
                        BorderThickness="0"
                        Click="SafeButton_Click"
                        Cursor="Hand">

                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Grid ClipToBounds="True">
                                    <!--  Фон кнопки  -->
                                    <Path x:Name="BackgroundPath">
                                        <Path.Fill>
                                            <SolidColorBrush Color="#7FDEFF" />
                                        </Path.Fill>
                                        <Path.Data>
                                            <RectangleGeometry
                                                RadiusX="8"
                                                RadiusY="8"
                                                Rect="0,0,50,50" />
                                        </Path.Data>
                                    </Path>

                                    <!--  Ripple круг  -->
                                    <Ellipse
                                        x:Name="Ripple"
                                        Width="0"
                                        Height="0"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        Fill="White"
                                        Opacity="0" />

                                    <!--  Иконка  -->
                                    <Path Data="M15,15 L35,15 L34.0349,28.5111 C34.0129,28.8195 33.8494,29.1004 33.5922,29.2719 L25,35 L16.4078,29.2719 C16.1506,29.1004 15.9871,28.8195 15.9651,28.5111 L15,15 Z" Fill="White" />
                                </Grid>

                                <ControlTemplate.Triggers>
                                    <!--  Цвет для активной кнопки  -->
                                    <Trigger Property="IsEnabled" Value="True">
                                        <Setter TargetName="BackgroundPath" Property="Fill" Value="#7066B1" />
                                    </Trigger>
                                    <Trigger Property="IsEnabled" Value="False">
                                        <Setter TargetName="BackgroundPath" Property="Fill" Value="#7FDEFF" />
                                    </Trigger>



                                    <!--  Цвет при нажатии (только для активных кнопок)  -->
                                    <Trigger Property="IsPressed" Value="True">
                                        <Setter TargetName="BackgroundPath" Property="Fill" Value="#4A407F" />
                                    </Trigger>


                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>

                    <!--  СКАНИРОВАНИЕ  -->
                    <Button
                        x:Name="ScanButton"
                        Grid.Row="2"
                        Margin="0,10,0,0"
                        Background="Transparent"
                        BorderBrush="Transparent"
                        BorderThickness="0"
                        Cursor="Hand"
                        IsEnabled="True">

                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Grid Width="50" Height="50">
                                    <Path x:Name="BackgroundPath" Fill="#7066B1">
                                        <Path.Data>
                                            <RectangleGeometry
                                                RadiusX="8"
                                                RadiusY="8"
                                                Rect="0,0,50,50" />
                                        </Path.Data>
                                    </Path>

                                    <!--  Вся иконка как один Path с исправленными дугами  -->
                                    <Path
                                        Data="M13,24.5 A11.5,11.5 0 1,1 36,24.5 A11.5,11.5 0 1,1 13,24.5                  M24.5904,25.7133 L31.5904,15.7133                 M24.5,31 A6.5,6.5 0 0,1 24.5,18                 M24.5,33 A8.5,8.5 0 0,1 24.5,16"
                                        Fill="Transparent"
                                        Stroke="White"
                                        StrokeThickness="1">
                                        <Path.Resources />
                                    </Path>

                                    <!--  Центральная точка отдельно  -->
                                    <Ellipse
                                        Width="2"
                                        Height="2"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        Fill="White" />

                                    <Ellipse
                                        x:Name="Ripple"
                                        Width="0"
                                        Height="0"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        Fill="White"
                                        Opacity="0" />
                                </Grid>

                                <ControlTemplate.Triggers>
                                    <!--  Плавное изменение цвета при наведении  -->
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Trigger.EnterActions>
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <ColorAnimation
                                                        Storyboard.TargetName="BackgroundPath"
                                                        Storyboard.TargetProperty="(Path.Fill).(SolidColorBrush.Color)"
                                                        To="#5A4F9D"
                                                        Duration="0:0:0.2" />
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </Trigger.EnterActions>
                                        <Trigger.ExitActions>
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <ColorAnimation
                                                        Storyboard.TargetName="BackgroundPath"
                                                        Storyboard.TargetProperty="(Path.Fill).(SolidColorBrush.Color)"
                                                        To="#7066B1"
                                                        Duration="0:0:0.2" />
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </Trigger.ExitActions>
                                    </Trigger>

                                    <!--  Цвет при нажатии  -->
                                    <Trigger Property="IsPressed" Value="True">
                                        <Setter TargetName="BackgroundPath" Property="Fill" Value="#4A407F" />
                                    </Trigger>

                                    <!--  Ripple запускаем один раз по клику  -->
                                    <EventTrigger RoutedEvent="Button.Click">
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation
                                                    AccelerationRatio="0.3"
                                                    Storyboard.TargetName="Ripple"
                                                    Storyboard.TargetProperty="Width"
                                                    From="0"
                                                    To="150"
                                                    Duration="0:0:0.3" />
                                                <DoubleAnimation
                                                    AccelerationRatio="0.3"
                                                    Storyboard.TargetName="Ripple"
                                                    Storyboard.TargetProperty="Height"
                                                    From="0"
                                                    To="150"
                                                    Duration="0:0:0.3" />
                                                <DoubleAnimation
                                                    Storyboard.TargetName="Ripple"
                                                    Storyboard.TargetProperty="Opacity"
                                                    From="0.4"
                                                    To="0"
                                                    Duration="0:0:0.3" />
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </EventTrigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>

                    <!--  НАСТРОЙКИ  -->
                    <Button
                        x:Name="SettingsButton"
                        Grid.Row="3"
                        Margin="0,10,0,0"
                        Background="Transparent"
                        BorderBrush="Transparent"
                        BorderThickness="0"
                        Cursor="Hand"
                        IsEnabled="True">

                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Grid Width="50" Height="50">
                                    <Path x:Name="BackgroundPath" Fill="#7066B1">
                                        <Path.Data>
                                            <RectangleGeometry
                                                RadiusX="8"
                                                RadiusY="8"
                                                Rect="0,0,50,50" />
                                        </Path.Data>
                                    </Path>

                                    <!--  Все элементы иконки настроек  -->
                                    <!--  Центральный круг  -->
                                    <Ellipse
                                        Width="19"
                                        Height="19"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        Fill="#7066B1"
                                        Stroke="White"
                                        StrokeThickness="3" />

                                    <!--  Диагональные кресты  -->
                                    <Path
                                        Data="M33.7071,16.7071 L16.7071,33.7071"
                                        Stroke="White"
                                        StrokeThickness="3" />

                                    <Path
                                        Data="M16.7071,16.2929 L33.7071,33.2929"
                                        Stroke="White"
                                        StrokeThickness="3" />

                                    <!--  Верхний/нижний рычаги  -->
                                    <Rectangle
                                        Width="3"
                                        Height="3"
                                        Margin="0,13,0,0"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Top"
                                        Stroke="White"
                                        StrokeThickness="2" />

                                    <Rectangle
                                        Width="3"
                                        Height="3"
                                        Margin="0,0,0,13"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Bottom"
                                        Stroke="White"
                                        StrokeThickness="2" />

                                    <!--  Левый/правый рычаги  -->
                                    <Rectangle
                                        Width="3"
                                        Height="3"
                                        Margin="13,0,0,0"
                                        HorizontalAlignment="Left"
                                        VerticalAlignment="Center"
                                        Stroke="White"
                                        StrokeThickness="2" />

                                    <Rectangle
                                        Width="3"
                                        Height="3"
                                        Margin="0,0,13,0"
                                        HorizontalAlignment="Right"
                                        VerticalAlignment="Center"
                                        Stroke="White"
                                        StrokeThickness="2" />

                                    <Ellipse
                                        x:Name="Ripple"
                                        Width="0"
                                        Height="0"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                        Fill="White"
                                        Opacity="0" />
                                </Grid>

                                <ControlTemplate.Triggers>
                                    <!--  Плавное изменение цвета при наведении  -->
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Trigger.EnterActions>
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <ColorAnimation
                                                        Storyboard.TargetName="BackgroundPath"
                                                        Storyboard.TargetProperty="(Path.Fill).(SolidColorBrush.Color)"
                                                        To="#5A4F9D"
                                                        Duration="0:0:0.2" />
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </Trigger.EnterActions>
                                        <Trigger.ExitActions>
                                            <BeginStoryboard>
                                                <Storyboard>
                                                    <ColorAnimation
                                                        Storyboard.TargetName="BackgroundPath"
                                                        Storyboard.TargetProperty="(Path.Fill).(SolidColorBrush.Color)"
                                                        To="#7066B1"
                                                        Duration="0:0:0.2" />
                                                </Storyboard>
                                            </BeginStoryboard>
                                        </Trigger.ExitActions>
                                    </Trigger>

                                    <!--  Цвет при нажатии  -->
                                    <Trigger Property="IsPressed" Value="True">
                                        <Setter TargetName="BackgroundPath" Property="Fill" Value="#4A407F" />
                                    </Trigger>

                                    <!--  Ripple запускаем один раз по клику  -->
                                    <EventTrigger RoutedEvent="Button.Click">
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation
                                                    AccelerationRatio="0.3"
                                                    Storyboard.TargetName="Ripple"
                                                    Storyboard.TargetProperty="Width"
                                                    From="0"
                                                    To="150"
                                                    Duration="0:0:0.3" />
                                                <DoubleAnimation
                                                    AccelerationRatio="0.3"
                                                    Storyboard.TargetName="Ripple"
                                                    Storyboard.TargetProperty="Height"
                                                    From="0"
                                                    To="150"
                                                    Duration="0:0:0.3" />
                                                <DoubleAnimation
                                                    Storyboard.TargetName="Ripple"
                                                    Storyboard.TargetProperty="Opacity"
                                                    From="0.4"
                                                    To="0"
                                                    Duration="0:0:0.3" />
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </EventTrigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>

                    <!--  О СОФТЕ  -->
                    <Button
                        x:Name="AboutButton"
                        Grid.Row="5"
                        Margin="10,10,0,5"
                        Padding="10"
                        HorizontalAlignment="Stretch"
                        HorizontalContentAlignment="Center"
                        Content="О Приложении"
                        Cursor="Hand"
                        IsEnabled="True" />
                </Grid>
            </Border>

            <!--  Правая панель контента  -->
            <Grid x:Name="MainGrid" Grid.Column="1">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <!--  Для Header  -->
                    <RowDefinition Height="*" />
                    <!--  Основное пространство для контента  -->
                    <RowDefinition Height="Auto" />
                    <!--  Для дополнительных элементов  -->
                </Grid.RowDefinitions>

                <!--  Header вверху правой панели  -->
                <Border
                    Grid.Row="0"
                    Height="50"
                    Margin="5,0,0,0"
                    Background="#907AD6"
                    CornerRadius="0,0,0,8">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <TextBlock
                            Grid.Column="0"
                            Margin="20,0,0,0"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center"
                            FontFamily="{StaticResource RobotoBlack}"
                            FontSize="24"
                            Foreground="White"
                            Text="IVO AntiScreamer"
                            TextAlignment="Center" />

                        <TextBlock
                            Grid.Column="2"
                            Margin="0,0,50,0"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Center"
                            FontFamily="{StaticResource AnonymousProBold}"
                            FontSize="32"
                            Foreground="White"
                            Text="МЕНЮ"
                            TextAlignment="Right" />
                    </Grid>
                </Border>


                <!--  ГЛАВНОЕ МЕНЮ  -->
                <Grid Grid.Row="1" Margin="10,30,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="2*" />
                        <ColumnDefinition Width="2*" />
                    </Grid.ColumnDefinitions>
                    <StackPanel Grid.Column="0" Margin="20,0,0,0">
                        <Grid x:Name="SafeStatus" Margin="0,0,0,5">
                            <Ellipse
                                Width="10"
                                Height="10"
                                HorizontalAlignment="Left"
                                Fill="LimeGreen" />
                            <Label
                                Padding="15,0,0,0"
                                Content="Защита от угроз"
                                FontFamily="{StaticResource RobotoCondensedMedium}"
                                FontSize="14"
                                Foreground="White" />
                        </Grid>
                        <Grid x:Name="ScanStatus" Margin="0,0,0,5">
                            <Ellipse
                                Width="10"
                                Height="10"
                                HorizontalAlignment="Left"
                                Fill="Red" />
                            <Label
                                Padding="15,0,0,0"
                                Content="Автосканирование"
                                FontFamily="{StaticResource RobotoCondensedMedium}"
                                FontSize="14"
                                Foreground="White" />
                        </Grid>
                        <Grid x:Name="EpilepsyDetect" Margin="0,0,0,5">
                            <Ellipse
                                Width="10"
                                Height="10"
                                HorizontalAlignment="Left"
                                Fill="LimeGreen" />
                            <Label
                                Padding="15,0,0,0"
                                Content="Детектор эпилепсии"
                                FontFamily="{StaticResource RobotoCondensedMedium}"
                                FontSize="14"
                                Foreground="White" />
                        </Grid>
                        <Grid x:Name="AntiStan" Margin="0,0,0,5">
                            <Ellipse
                                Width="10"
                                Height="10"
                                HorizontalAlignment="Left"
                                Fill="LimeGreen" />
                            <Label
                                Padding="15,0,0,0"
                                Content="AntiStan+"
                                FontFamily="{StaticResource RobotoCondensedMedium}"
                                FontSize="14"
                                Foreground="White" />
                        </Grid>
                        <Grid x:Name="Database" Margin="0,0,0,5">
                            <Ellipse
                                Width="10"
                                Height="10"
                                HorizontalAlignment="Left"
                                Fill="Yellow" />
                            <Label
                                Padding="15,0,0,0"
                                Content="База данных"
                                FontFamily="{StaticResource RobotoCondensedMedium}"
                                FontSize="14"
                                Foreground="White" />
                        </Grid>
                        <Label
                            Margin="0,30,0,0"
                            Content="Отладочная информация"
                            FontFamily="{StaticResource RobotoCondensedSemiBold}"
                            FontSize="14"
                            Foreground="White" />
                        <TextBlock />
                        <StackPanel Background="#3E3E6B">
                            <!--  Службы  -->
                            <TextBlock Margin="10,10,10,0" FontFamily="{StaticResource JetBrainsMonoLight}">
                                <Run Foreground="Gray" Text="&lt;&lt; " />
                                <Run
                                    x:Name="Status"
                                    Foreground="Gray"
                                    Text="Службы запущены" />
                                <Run Foreground="Gray" Text=" &gt;&gt;" />
                            </TextBlock>

                            <TextBlock Margin="10,0,10,10" FontFamily="{StaticResource JetBrainsMonoLight}">
                                <Run Foreground="Gray" Text="&lt;&lt; " />
                                <Run Foreground="Gray" Text="Ведется запись лога" />
                                <Run Foreground="Gray" Text=" &gt;&gt;" />
                            </TextBlock>

                            <!--  Громкость  -->
                            <TextBlock
                                x:Name="VolumeTextBlock"
                                Margin="10,0,10,0"
                                FontFamily="{StaticResource JetBrainsMonoLight}">
                                <Run Foreground="LimeGreen" Text="&gt;&gt; " />
                                <Run Foreground="White" Text="Текущая громкость: " />
                                <Run
                                    x:Name="VolumeLabel"
                                    Foreground="White"
                                    Text="48%" />
                            </TextBlock>

                            <TextBlock
                                x:Name="DbTextBlock"
                                Margin="10,0,10,10"
                                FontFamily="{StaticResource JetBrainsMonoLight}">
                                <Run Foreground="LimeGreen" Text="&gt;&gt; " />
                                <Run Foreground="White" Text="Громкость звука: " />
                                <Run
                                    x:Name="DbValue"
                                    Foreground="White"
                                    Text="0.0 дб." />
                            </TextBlock>

                            <!--  Приложение  -->
                            <TextBlock
                                x:Name="AppTextBlock"
                                Margin="10,0,10,0"
                                FontFamily="{StaticResource JetBrainsMonoLight}">
                                <Run Foreground="LimeGreen" Text="&gt;&gt; " />
                                <Run Foreground="White" Text="Захвачено приложение: " />
                                <Run
                                    x:Name="AppNameRun"
                                    Foreground="White"
                                    Text="Telegram.exe" />
                            </TextBlock>

                            <TextBlock
                                x:Name="FlashTextBlock"
                                Margin="10,0,10,30"
                                FontFamily="{StaticResource JetBrainsMonoLight}">
                                <Run Foreground="LimeGreen" Text="&gt;&gt; " />
                                <Run Foreground="White" Text="Количество вспышек: " />
                                <Run
                                    x:Name="FlashCountRun"
                                    Foreground="White"
                                    Text="0" />
                            </TextBlock>
                        </StackPanel>
                    </StackPanel>
                    <StackPanel Grid.Column="1" Margin="0,0,0,0" />
                    <Grid Grid.Column="1" Margin="0,0,70,0">
                        <!--  Фон и обводка  -->
                        <Ellipse
                            Width="200"
                            Height="200"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Top"
                            Stroke="Black"
                            StrokeThickness="1">
                            <Ellipse.Fill>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                    <GradientStop Offset="0" Color="#383e6c" />
                                    <GradientStop Offset="1" Color="#383e5c" />
                                </LinearGradientBrush>
                            </Ellipse.Fill>
                        </Ellipse>

                        <!--  SKElement с Surface 720x720, отображается как 200x200  -->
                        <skia:SKElement
                            x:Name="LavaSurface"
                            Width="720"
                            Height="720"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Top"
                            PaintSurface="LavaSurface_PaintSurface">
                            <skia:SKElement.LayoutTransform>
                                <ScaleTransform ScaleX="0.27777" ScaleY="0.27777" />
                            </skia:SKElement.LayoutTransform>
                        </skia:SKElement>
                    </Grid>

                </Grid>

                <!--  Дополнительные кнопки/элементы  -->
                <StackPanel
                    Grid.Row="2"
                    Margin="0,10,10,10"
                    HorizontalAlignment="Right"
                    Orientation="Horizontal">
                    <Button
                        x:Name="ExtraButton1"
                        Margin="5,0"
                        Content="Доп. 1" />
                    <Button
                        x:Name="ExtraButton2"
                        Margin="5,0"
                        Content="Доп. 2" />
                </StackPanel>
            </Grid>

            <!--  Слой защиты  -->
            <Grid
                x:Name="SafeGrid"
                Grid.Column="2"
                Visibility="Hidden">
                <Button Content="Тест" />
            </Grid>
        </Grid>
    </Viewbox>
</Window>